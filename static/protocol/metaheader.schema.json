{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Whiteflag Message MetaHeader",
    "description": "Metaheader for Whiteflag messages as used by the Whiteflag API",
    "version": "1",
    "type": "object",
    "additionalProperties": true,
    "properties": {
        "autoGenerated": {
            "description": "Indicates if the message has been automatically generated",
            "type": "boolean"
        },
        "blockchain": {
            "description": "The name of the underlying blockchain",
            "type": "string"
        },
        "transceiveDirection": {
            "description": "Indicates if this message is to be transmitted (TX) to the blockchain or has been received (RX) from the blockchain",
            "type": "string",
            "enum": [ "TX", "RX" ]
        },
        "transmissionSuccess": {
            "description": "True if message was succesfully put into a blockchain transaction",
            "type": "boolean"
        },
        "transactionHash": {
            "description": "The hash of the transaction containing the Whiteflag message",
            "type": "string"
        },
        "transactionTime": {
            "description": "The timestamp of the transaction or block ontaining the Whiteflag message",
            "$comment": "If a transaction time is not provided by the blockchain, it may be set to a derived time of earliest possible existence of the transaction",
            "type": "string"
        },
        "transactionIndex": {
            "description": "The index of the transaction in a block",
            "$comment": "Some blockchains use block number with an index as a unique identifier for transactions",
            "type": "integer"
        },
        "blockNumber": {
            "description": "The number of the block the transaction is in",
            "type": "integer"
        },
        "blockDepth": {
            "description": "The number of blocks from current block where transaction is in, until the confirmation maximum is reached",
            "type": "integer"
        },
        "confirmed": {
            "description": "Indication whether the message is confirmed, i.e. the minimal block depth has been reached",
            "type": "boolean"
        },
        "recipientAddress": {
            "description": "The address of the blockchain account to which the message is sent",
            "type": "string"
        },
        "originatorAddress": {
            "description": "The address of the blockchain account from which the message is sent",
            "type": "string"
        },
        "originatorPubKey": {
            "description": "The public key of the blockchain account used by the originator",
            "type": "string"
        },
        "originatorValid": {
            "description": "Indication whether a valid A-message preceded this message, or if it is itself a valid A-message",
            "type": "boolean"
        },
        "referenceValid": {
            "description": "Indication whether this messages references other messages correctly",
            "type": "boolean"
        },
        "formatValid": {
            "description": "Indication whether the message validates against message schema",
            "type": "boolean"
        },
        "validationErrors": {
            "description": "Array containing message validation errors",
            "type": "array"
        },
        "encodedMessage": {
            "description": "The hexadecimal representaion of the message in compressed binary encoding, optionally encrypted",
            "type": "string"
        },
        "encryptionInitVector": {
            "description": "The hexadecimal representation of the initialisation vector of an encrypted message",
            "type": "string"
        },
        "encryptionKeyInput": {
            "description": "The hexadecimal representation of the secret from which the encryption key is derived",
            "$comment": "It is strongly recommended not to use this field in APIs in production environments",
            "type": "string"
        }
    }
}
